// Generated by CoffeeScript 1.4.0
(function() {

  $(document).ready(function() {
    chrome.extension.onMessage.addListener(function(request, sender, sendResponse) {
      var changeClass, element, font, text;
      if (request.action === "loadBootstrap") {
        $("head").append("          <link href='//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css' rel='stylesheet'>        ");
        $('body').wrap('<div class="container" />');
      }
      if (request.action === "changeElement") {
        element = request.element;
        changeClass = request.changeClass;
        if (changeClass === "navbar") {
          $(element).wrap('<div class="navbar" />');
          $(element).addClass('brand');
          $(element).wrap('<div class="navbar-inner" />');
          $(".navbar-inner").append('<ul class="nav"></ul>');
        } else if (changeClass === "nav") {
          text = $(element).text();
          $(element).remove();
          $('ul.nav').append("<li><a href='#'>" + text + "</a></li>");
        } else {
          $(element).wrap('<div class=' + '"' + changeClass + '"' + ' />');
        }
      }
      if (request.action === "changeFont") {
        font = request.font;
        element = request.element;
        $("head").append("        <link href='http://fonts.googleapis.com/css?family=" + font + "' rel='stylesheet' type='text/css'>        ");
        font = font.split("+").join(" ");
        $(request.element).css;
        return $(element).css('font-family', font);
      }
    });
    $('h1').click(function(e) {
      return chrome.extension.sendMessage({
        "element": "h1"
      });
    });
    $('h2').click(function(e) {
      return chrome.extension.sendMessage({
        "element": "h2"
      });
    });
    $('h3').click(function(e) {
      return chrome.extension.sendMessage({
        "element": "h3"
      });
    });
    return $('p').click(function(e) {
      return chrome.extension.sendMessage({
        "element": "p"
      });
    });
  });

}).call(this);
